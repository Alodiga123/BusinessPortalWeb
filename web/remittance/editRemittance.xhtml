<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">

    <ui:composition>

        <p:dialog id="RemittanceEditDlg" widgetVar="RemittanceEditDialog" modal="true" resizable="false" appendTo="@(body)" header="Editar Remesa">
            <h:form id="RemittanceEditForm">
                <h:panelGroup id="display">
                     <p:scrollPanel style="width:850px;height:700px"   rendered="#{not empty dtListRemittanceController.selectedRemittance}" >
                         <div align="center">  
                             <p:panelGrid styleClass="nba-grid">
                                 <f:facet name="header">
                                     <p:row>
                                         <p:column >#{msg.Remittances}</p:column>
                                         <p:column >#{msg.key}</p:column>
                                         <p:column >#{msg.correlative}</p:column>
                                         <p:column>#{msg.creationDate}</p:column>
                                     </p:row>

                                 </f:facet>

                                 <p:column>
                                     <h:outputText value="#{dtListRemittanceController.selectedRemittance.remittanceNumber}" />
                                 </p:column>

                                 <p:column>
                                     <h:outputText value="#{dtListRemittanceController.selectedRemittance.paymentKey}" />
                                 </p:column>

                                 <p:column>
                                     <h:outputText value="#{dtListRemittanceController.selectedRemittance.correlative}" />
                                 </p:column>

                                 <p:column>
                                     <h:outputText value="#{dtListRemittanceController.selectedRemittance.creationDate}" />
                                 </p:column>


                             </p:panelGrid>

                         </div>
                        <div class="ui-g-12 ui-lg-6">

                            <p:panelGrid  columns="2" rendered="#{not empty dtListRemittanceController.selectedRemittance}" columnClasses="label,value" layout="grid" style="margin-top:10px">
                                <f:facet name="header">
                                    <p:row>
                                        <p:column>#{msg.remittent}</p:column>
                                    </p:row>
                                </f:facet>


                                <h:outputText value="#{msg.name}" />
                                <h:outputText value="#{dtListRemittanceController.selectedRemittance.remittent.person.firstName} + #{dtListRemittanceController.selectedRemittance.remittent.person.lastName}" />

                                <h:outputText value="#{msg.country}" />
                                <h:outputText value="#{dtListRemittanceController.selectedRemittance.addressRemittent.country.name}" />

                                <h:outputText value="#{msg.state}" />
                                <h:outputText value="#{dtListRemittanceController.selectedRemittance.addressRemittent.state.name}" />

                                <h:outputText value="#{msg.city}" />
                                <h:outputText value="#{dtListRemittanceController.selectedRemittance.addressRemittent.city.name}" />

                                <h:outputText value="#{msg.address}" />
                                <h:outputText value="#{dtListRemittanceController.selectedRemittance.addressRemittent.address}" />

                                <h:outputText value="#{msg.phone}" />
                                <h:outputText value="#{dtListRemittanceController.selectedRemittance.remittent.person.phoneNumber}" />

                            </p:panelGrid>
                        </div>
                        <div class="ui-g-12 ui-lg-6">
                            <p:panelGrid   columns="2" rendered="#{not empty dtListRemittanceController.selectedRemittance}" columnClasses="label,value" layout="grid" style="margin-top:10px">
                                <f:facet name="header">
                                    <p:row>
                                        <p:column>#{msg.reciever}</p:column>
                                    </p:row>
                                </f:facet>
                                <h:outputText value="#{msg.name}" />
                                <h:outputText value="#{dtListRemittanceController.selectedRemittance.receiver.person.firstName} + #{dtListRemittanceController.selectedRemittance.remittent.person.lastName}" />

                                <h:outputText value="#{msg.country}" />
                                <h:outputText value="#{dtListRemittanceController.selectedRemittance.addressReciever.country.name}" />

                                <h:outputText value="#{msg.state}" />
                                <h:outputText value="#{dtListRemittanceController.selectedRemittance.addressReciever.state.name}" />

                                <h:outputText value="#{msg.city}" />
                                <h:outputText value="#{dtListRemittanceController.selectedRemittance.addressReciever.city.name}" />

                                <h:outputText value="#{msg.address}" />
                                <h:outputText value="#{dtListRemittanceController.selectedRemittance.addressReciever.address}" />

                                <h:outputText value="#{msg.phone}" />
                                <h:outputText value="#{dtListRemittanceController.selectedRemittance.receiver.person.phoneNumber}" />

                            </p:panelGrid>
                        </div>
                        <div class="ui-g-12 ui-lg-6" align="center">
                             <p:panelGrid rendered="#{not empty dtListRemittanceController.selectedRemittance}">
                              <p:row>
                                  <p:column styleClass="firstcolumn">#{msg.moneySent}</p:column>
                                  <p:column style="text-align: right">#{dtListRemittanceController.selectedRemittance.amountOrigin}</p:column>
                              </p:row>
                              <p:row>
                                 <p:column styleClass="firstcolumn">#{msg.exchange}</p:column>
                                 <p:column style="text-align: right">#{dtListRemittanceController.selectedRemittance.exchangeRate.amount}</p:column>
                              </p:row>
                              <p:row>
                                 <p:column styleClass="firstcolumn">#{msg.amount}</p:column>
                                 <p:column style="text-align: right">#{dtListRemittanceController.selectedRemittance.amountDestiny}</p:column>
                              </p:row>
                               <p:row>
                                 <p:column styleClass="firstcolumn">#{msg.Total}</p:column>
                                 <p:column style="text-align: right">#{dtListRemittanceController.selectedRemittance.totalAmount}</p:column>
                              </p:row>
                          </p:panelGrid>
                        </div>
                        <div class="ui-g-12 ui-lg-6" align="center">
                             <p:panelGrid  rendered="#{not empty dtListRemittanceController.selectedRemittance}">
                              <p:row>
                                  <p:column styleClass="firstcolumn">#{msg.Detail}</p:column>
                                  <p:column style="text-align: right"/>
                              </p:row>
                              <p:row>
                                 <p:column styleClass="firstcolumn">#{msg.AmountDetails}</p:column>
                                 <p:column style="text-align: right"/>
                              </p:row>
                              <p:row>
                                 <p:column styleClass="firstcolumn">#{msg.RemittentAmount}</p:column>
                                 <p:column style="text-align: right">#{dtListRemittanceController.amountRemittance}</p:column>
                              </p:row>
                               <p:row>
                                 <p:column styleClass="firstcolumn">#{msg.AmountRecieved}</p:column>
                                 <p:column style="text-align: right">#{dtListRemittanceController.amountReciever}</p:column>
                              </p:row>
                          </p:panelGrid>
                        </div>
                        <div class="ui-g-12">
                            <p:dataTable var="ofac"  rendered="#{not empty dtListRemittanceController.selectedRemittance}" style="margin-top:20px">
                                    <f:facet name="header">
                                        <p:row>
                                            <p:column>#{msg.OFAC}</p:column>
                                        </p:row>
                                    </f:facet>
                                <p:column headerText="#{msg.name}">
                                        <h:outputText value="" />
                                    </p:column>
                                    <p:column headerText="#{msg.InformationSource}">
                                        <h:outputText value="" />
                                    </p:column>
                                    <p:column headerText="#{msg.Category}">
                                        <h:outputText value="" />
                                    </p:column>
                                    <p:column headerText="#{msg.Birthday}">
                                        <h:outputText value="" />
                                    </p:column>
                                    <p:column headerText="#{msg.country}">
                                        <h:outputText value="" />
                                    </p:column>
                                </p:dataTable>
                            </div>
                        <div class="ui-g-12">
                             <p:dataTable var="remittance1" value="#{dtListRemittanceController.remittancesByRemittent}" rendered="#{not empty dtListRemittanceController.selectedRemittance}" style="margin-top:20px">
                                    <f:facet name="header">
                                        <p:row>
                                            <p:column>#{msg.Recent}</p:column>
                                        </p:row>
                                    </f:facet>
                                    <p:column headerText="#{msg.date}">
                                        <h:outputText value="#{remittance1.creationDate}" />
                                    </p:column>
                                    <p:column headerText="#{msg.code}">
                                        <h:outputText value="#{remittance1.remittanceNumber}" />
                                    </p:column>
                                    <p:column headerText="#{msg.reciever}">
                                        <h:outputText value="#{remittance1.receiver.person.firstName}" />
                                    </p:column>
                                    <p:column headerText="#{msg.amount}">
                                        <h:outputText value="#{remittance1.amountOrigin}" />
                                    </p:column>
                                 <p:column headerText="#{msg.status}">
                                        <h:outputText value="#{remittance1.status.name}" />
                                    </p:column>
                                 <p:column headerText="#{msg.country}">
                                        <h:outputText value="#{emittance1.addressReciever.country.name}" />
                                    </p:column>
                                </p:dataTable>
                        </div>
                        <div class="ui-g-12">
                            
                            <p:dataTable var="remittance2" value="#{dtListRemittanceController.remittancesByReceiver}" rendered="#{not empty dtListRemittanceController.selectedRemittance}" style="margin-top:20px">
                                    <f:facet name="header">
                                        <p:row>
                                            <p:column>#{msg.RecentReciever}</p:column>
                                        </p:row>
                                    </f:facet>
                                    <p:column headerText="#{msg.date}">
                                        <h:outputText value="#{remittance2.creationDate}" />
                                    </p:column>
                                    <p:column headerText="#{msg.code}">
                                        <h:outputText value="#{remittance2.remittanceNumber}" />
                                    </p:column>
                                    <p:column headerText="#{msg.remittent}">
                                        <h:outputText value="#{remittance2.receiver.person.firstName}" />
                                    </p:column>
                                    <p:column headerText="#{msg.amount}">
                                        <h:outputText value="#{remittance2.amountOrigin}" />
                                    </p:column>
                                <p:column headerText="#{msg.status}">
                                        <h:outputText value="#{remittance2.status.name}" />
                                    </p:column>
                                </p:dataTable>
                        </div>
                          <div class="ui-g-12">
                            
                          <p:dataTable var="status" value="#{dtListRemittanceController.remittanceStatuses}" rendered="#{not empty dtListRemittanceController.selectedRemittance}" style="margin-top:20px"
                                       scrollable="true" scrollWidth="815">
                                    <f:facet name="header">
                                        <p:row>
                                            <p:column>#{msg.RemittanceStatus}</p:column>
                                        </p:row>
                                    </f:facet>
                              <p:column headerText="#{msg.status}" style="width:110px">
                                        <h:outputText value="#{status.remittenceStatus.name}" />
                                    </p:column>
                                    <p:column headerText="#{msg.Begin}" style="width:150px">
                                        <h:outputText value="#{status.beginningDate}" />
                                    </p:column>
                                    <p:column headerText="#{msg.Change}" style="width:150px">
                                        <h:outputText value="#{status.endingDate}" />
                                    </p:column>
                                    <p:column headerText="#{msg.user}">
                                        <h:outputText value="#{status.user.firstName} + #{status.user.lastName}" style="width:150px"/>
                                    </p:column>
                                    <p:column headerText="#{msg.Comment}">
                                        <h:outputText value="#{status.comments}" style="width:300px"/>
                                    </p:column>
                                </p:dataTable>
                        </div>

                        <div class="ui-g-12" align="center">
                            <p:panelGrid columns="1" layout="grid" style="margin-top:10px">
                                <p:commandButton type="button" value="#{msg.comment}" style="width: 100%"/>
                                <p:inputTextarea id="comments" value="#{dtListRemittanceController.comments}" required="true" rows="5" cols="50"  style="margin-top:10px"/>
                            </p:panelGrid>
                        </div>
                         
                    </p:scrollPanel>
                    <div class="ui-g-12" align="center">
                    <p:commandButton value="#{msg.Authorize}" title="Autorizar" 
                                     update="display,:formRemittance:remittanceTable"
                                     actionListener="#{dtListRemittanceController.autorizar}"
                                     styleClass="icon-insert icon" >
                    </p:commandButton>
                    <p:commandButton value="#{msg.nullify}" title="Anular" 
                                     update="display,:formRemittance:remittanceTable"
                                     actionListener="#{dtListRemittanceController.anular}"
                                     styleClass="icon-insert icon" >
                    </p:commandButton>
                    <p:commandButton value="#{msg.cancel}" onclick="RemittanceEditDialog.hide()"/>
                    </div>
                </h:panelGroup>
            </h:form>
        </p:dialog>

    </ui:composition>
</html>
